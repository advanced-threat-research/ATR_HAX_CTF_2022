FROM 32bit/ubuntu:16.04
RUN apt update && apt install -y socat gdb vim

RUN groupadd -g 1337 -r flag && useradd -u 1337 -g 1337 -r -M flag

WORKDIR /
COPY flag.txt /
COPY binary_exploit /
COPY entrypoint.sh /
RUN chmod +x entrypoint.sh binary_exploit
RUN chmod 555 flag.txt entrypoint.sh binary_exploit

EXPOSE 7676
ENTRYPOINT ["./entrypoint.sh"]